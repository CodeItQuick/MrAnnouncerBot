<Window x:Class="DndMapSpike.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:DndMapSpike"
		xmlns:mapUI="clr-namespace:MapUI;assembly=MapUI"
        mc:Ignorable="d"
        Title="MainWindow" Height="850" Width="1200" FontSize="9">
	<Window.Resources>
		<RoutedUICommand x:Key="Commands.ZoomOut" />
		<RoutedUICommand x:Key="Commands.ZoomIn" />
		<RoutedUICommand x:Key="Commands.JumpBackToPrevZoom" />
		<RoutedUICommand x:Key="Commands.Fill" />
		<RoutedUICommand x:Key="Commands.OneHundredPercent" />
		<RoutedUICommand x:Key="Commands.CancelStampMode" />
		<RoutedUICommand x:Key="Commands.DeleteSelected" />
		<RoutedUICommand x:Key="Commands.CopyColorMod" />
		<RoutedUICommand x:Key="Commands.PasteColorMod" />
		<mapUI:ScaleToPercentConverter x:Key="scaleToPercentConverter"/>
		<Style TargetType="{x:Type RadioButton}" >
			<Setter Property="Template">
				<Setter.Value>
					<ControlTemplate TargetType="{x:Type RadioButton}">
						<Grid Height="36" Width="36" Margin="2" >
							<Viewbox HorizontalAlignment="Center" VerticalAlignment="Center">
								<Canvas Width="170" Height="170">
									<Path Canvas.Left="6" Canvas.Top="6" x:Name="pthBackground" Fill="#FF4472C4" Stroke="#FF2F528F" StrokeThickness="1" StrokeMiterLimit="10">
										<Path.Data>
											<PathGeometry Figures="M0,8.3125C0,3.75,3.75,0,8.3125,0L143.75,0C148.3125,0,152,3.75,152,8.3125L152,143.75C152,148.3125,148.3125,152,143.75,152L8.3125,152C3.75,152,0,148.3125,0,143.75z" />
										</Path.Data>
									</Path>
								</Canvas>
							</Viewbox>
							<ContentPresenter />
						</Grid>

						<ControlTemplate.Triggers>
							<Trigger Property="IsMouseOver" Value="true">
								<Setter TargetName="pthBackground" Property="StrokeThickness" Value="5"/>
							</Trigger>
							<Trigger Property="IsChecked" Value="true">
								<Setter TargetName="pthBackground" Property="Fill" Value="#FF4472C4"/>
							</Trigger>
							<Trigger Property="IsChecked" Value="false">
								<Setter TargetName="pthBackground" Property="Fill" Value="#FFDAE3F3"/>
							</Trigger>
						</ControlTemplate.Triggers>
					</ControlTemplate>
				</Setter.Value>
			</Setter>
		</Style>
		<Viewbox x:Key="btnRotateLeft" MouseDown="btnRotateLeft_MouseDown">
			<Canvas Width="219" Height="219">
				<Path Fill="#FF4472C4" Stroke="#FF2F528F" StrokeThickness="1" StrokeMiterLimit="10">
					<Path.Data>
						<PathGeometry Figures="M214,16.375C214,7.3125,206.75,0,197.6875,0L16.375,0C7.3125,0,0,7.3125,0,16.375L0,197.6875C0,206.75,7.3125,214,16.375,214L197.6875,214C206.75,214,214,206.75,214,197.6875z" />
					</Path.Data>
				</Path>
				<Path Fill="#FFFFFFFF" Stroke="#FF2F528F" StrokeThickness="1" StrokeMiterLimit="10">
					<Path.Data>
						<PathGeometry Figures="M156,42L141.625,43.4375C106.8125,50.5625,80.625,81.125,80.625,117.8125L80.625,128.6875 57,128.6875 100.75,172 144.4375,128.6875 120.875,128.6875 120.875,117.8125C120.875,100.4375,133.25,85.9375,149.75,82.625L156,82z" />
					</Path.Data>
				</Path>
			</Canvas>
		</Viewbox>
		<Viewbox x:Key="btnRotateRight" MouseDown="btnRotateRight_MouseDown" >
			<Canvas Width="219" Height="219">
				<Path Fill="#FF4472C4" Stroke="#FF2F528F" StrokeThickness="1" StrokeMiterLimit="10">
					<Path.Data>
						<PathGeometry Figures="M0,16.375C0,7.3125,7.3125,0,16.375,0L197.6875,0C206.75,0,214,7.3125,214,16.375L214,197.6875C214,206.75,206.75,214,197.6875,214L16.375,214C7.3125,214,0,206.75,0,197.6875z" />
					</Path.Data>
				</Path>
				<Path Fill="#FFFFFFFF" Stroke="#FF2F528F" StrokeThickness="1" StrokeMiterLimit="10">
					<Path.Data>
						<PathGeometry Figures="M57,42L71.4375,43.4375C106.25,50.5625,132.4375,81.125,132.4375,117.8125L132.4375,128.6875 156,128.6875 112.3125,172 68.625,128.6875 92.1875,128.6875 92.1875,117.8125C92.1875,100.4375,79.8125,85.9375,63.3125,82.625L57,82z" />
					</Path.Data>
				</Path>
			</Canvas>
		</Viewbox>
		<Viewbox x:Key="btnScale33Percent" MouseDown="btnScale33Percent_MouseDown">
			<Canvas Width="38" Height="37">
				<Path Fill="#FF2F528F">
					<Path.Data>
						<PathGeometry Figures="M37.5,2.375C37.5,0.8125,36.25,-0.5,34.6875,-0.5L3.375,-0.5C1.8125,-0.5,0.5,0.8125,0.5,2.375L0.5,33.6875C0.5,35.25,1.8125,36.5,3.375,36.5L34.6875,36.5C36.25,36.5,37.5,35.25,37.5,33.6875z" />
					</Path.Data>
				</Path>
				<Path Fill="#FF4472C4">
					<Path.Data>
						<PathGeometry Figures="M36.5,3.1875C36.5,1.75,35.3125,0.5,33.875,0.5L4.1875,0.5C2.75,0.5,1.5,1.75,1.5,3.1875L1.5,32.875C1.5,34.3125,2.75,35.5,4.1875,35.5L33.875,35.5C35.3125,35.5,36.5,34.3125,36.5,32.875z" />
					</Path.Data>
				</Path>
				<TextBlock Text="1/3" FontFamily="Calibri" FontSize="19" Foreground="#FFFFFFFF" Canvas.Left="6" Canvas.Top="6" />
			</Canvas>
		</Viewbox>

		<Viewbox x:Key="btnScale50Percent" MouseDown="btnScale50Percent_MouseDown">
			<Canvas Width="38" Height="37">
				<Path Fill="#FF2F528F">
					<Path.Data>
						<PathGeometry Figures="M37.5,2.375C37.5,0.8125,36.25,-0.5,34.6875,-0.5L3.375,-0.5C1.8125,-0.5,0.5,0.8125,0.5,2.375L0.5,33.6875C0.5,35.25,1.8125,36.5,3.375,36.5L34.6875,36.5C36.25,36.5,37.5,35.25,37.5,33.6875z" />
					</Path.Data>
				</Path>
				<Path Fill="#FF4472C4">
					<Path.Data>
						<PathGeometry Figures="M36.5,4.125C36.5,2.6875,35.375,1.5,33.9375,1.5L4.125,1.5C2.6875,1.5,1.5,2.6875,1.5,4.125L1.5,32.9375C1.5,34.375,2.6875,35.5,4.125,35.5L33.9375,35.5C35.375,35.5,36.5,34.375,36.5,32.9375z" />
					</Path.Data>
				</Path>
				<TextBlock Text="1/2" FontFamily="Calibri" FontSize="19" Foreground="#FFFFFFFF" Canvas.Left="6" Canvas.Top="7" />
			</Canvas>
		</Viewbox>

		<Viewbox x:Key="btnScale200Percent" MouseDown="btnScale200Percent_MouseDown">
			<Canvas Width="38" Height="38">
				<Path Fill="#FF2F528F">
					<Path.Data>
						<PathGeometry Figures="M37.5,3.375C37.5,1.8125,36.25,0.5,34.6875,0.5L3.375,0.5C1.8125,0.5,0.5,1.8125,0.5,3.375L0.5,34.6875C0.5,36.25,1.8125,37.5,3.375,37.5L34.6875,37.5C36.25,37.5,37.5,36.25,37.5,34.6875z" />
					</Path.Data>
				</Path>
				<Path Fill="#FF4472C4">
					<Path.Data>
						<PathGeometry Figures="M36.5,4.125C36.5,2.6875,35.375,1.5,33.9375,1.5L4.125,1.5C2.6875,1.5,1.5,2.6875,1.5,4.125L1.5,32.9375C1.5,34.375,2.6875,35.5,4.125,35.5L33.9375,35.5C35.375,35.5,36.5,34.375,36.5,32.9375z" />
					</Path.Data>
				</Path>
				<TextBlock Text="x2" FontFamily="Calibri" FontSize="24" Foreground="#FFFFFFFF" Canvas.Left="8" Canvas.Top="4" />
			</Canvas>
		</Viewbox>

		<Viewbox x:Key="btnScale100Percent" MouseDown="btnScale100Percent_MouseDown">
			<Canvas Width="38" Height="37">
				<Path Fill="#FF2F528F">
					<Path.Data>
						<PathGeometry Figures="M37.5,3.25C37.5,1.75,36.3125,0.5,34.8125,0.5L3.25,0.5C1.75,0.5,0.5,1.75,0.5,3.25L0.5,33.8125C0.5,35.3125,1.75,36.5,3.25,36.5L34.8125,36.5C36.3125,36.5,37.5,35.3125,37.5,33.8125z" />
					</Path.Data>
				</Path>
				<Path Fill="#FF4472C4">
					<Path.Data>
						<PathGeometry Figures="M36.5,4.125C36.5,2.6875,35.375,1.5,33.9375,1.5L4.125,1.5C2.6875,1.5,1.5,2.6875,1.5,4.125L1.5,32.9375C1.5,34.375,2.6875,35.5,4.125,35.5L33.9375,35.5C35.375,35.5,36.5,34.375,36.5,32.9375z" />
					</Path.Data>
				</Path>
				<TextBlock Text="x1" FontFamily="Calibri" FontSize="24" Foreground="#FFFFFFFF" Canvas.Left="8" Canvas.Top="4" />
			</Canvas>
		</Viewbox>

		<Viewbox x:Key="btnFlipVertical" MouseDown="btnFlipVertical_MouseDown">
			<Canvas Width="36" Height="35">
				<Path Fill="#FF2F528F">
					<Path.Data>
						<PathGeometry Figures="M33.8125,35.5C35.3125,35.5,36.5,34.3125,36.5,32.8125L36.5,2.25C36.5,0.75,35.3125,-0.5,33.8125,-0.5L2.25,-0.5C0.75,-0.5,-0.5,0.75,-0.5,2.25L-0.5,32.8125C-0.5,34.3125,0.75,35.5,2.25,35.5z" />
					</Path.Data>
				</Path>
				<Path Fill="#FF4472C4">
					<Path.Data>
						<PathGeometry Figures="M32.9375,34.5C34.375,34.5,35.5,33.375,35.5,31.9375L35.5,3.125C35.5,1.6875,34.375,0.5,32.9375,0.5L3.125,0.5C1.6875,0.5,0.5,1.6875,0.5,3.125L0.5,31.9375C0.5,33.375,1.6875,34.5,3.125,34.5z" />
					</Path.Data>
				</Path>
				<Polygon Points="29.5,18.5 6.5,18.5 6.5,30.5" FillRule="EvenOdd" Fill="#FF8FAADC" Stroke="{x:Null}" />
				<Polygon Points="29.5,16.5 6.5,16.5 6.5,4.5" FillRule="EvenOdd" Fill="#FFF2F2F2" Stroke="{x:Null}" />
			</Canvas>
		</Viewbox>
		<Viewbox x:Key="btnFlipHorizontal" MouseDown="btnFlipHorizontal_MouseDown" >
			<Canvas Width="36" Height="35">
				<Path Fill="#FF2F528F">
					<Path.Data>
						<PathGeometry Figures="M36.5,2.25C36.5,0.75,35.3125,-0.5,33.8125,-0.5L2.25,-0.5C0.75,-0.5,-0.5,0.75,-0.5,2.25L-0.5,32.8125C-0.5,34.3125,0.75,35.5,2.25,35.5L33.8125,35.5C35.3125,35.5,36.5,34.3125,36.5,32.8125z" />
					</Path.Data>
				</Path>
				<Path Fill="#FF4472C4">
					<Path.Data>
						<PathGeometry Figures="M35.5,3.125C35.5,1.6875,34.375,0.5,32.9375,0.5L3.125,0.5C1.6875,0.5,0.5,1.6875,0.5,3.125L0.5,31.9375C0.5,33.375,1.6875,34.5,3.125,34.5L32.9375,34.5C34.375,34.5,35.5,33.375,35.5,31.9375z" />
					</Path.Data>
				</Path>
				<Polygon Points="18.5,5.5 18.5,28.5 31.5,28.5" FillRule="EvenOdd" Fill="#FF8FAADC" Stroke="{x:Null}" />
				<Polygon Points="17.5,5.5 17.5,28.5 4.5,28.5" FillRule="EvenOdd" Fill="#FFF2F2F2" Stroke="{x:Null}" />
			</Canvas>
		</Viewbox>
		<Viewbox x:Key="btnSendToBack" MouseDown="btnSendToBack_MouseDown">
			<Canvas Width="35" Height="35">
				<Path Fill="#FF2F528F">
					<Path.Data>
						<PathGeometry Figures="M35.5,2.25C35.5,0.75,34.3125,-0.5,32.8125,-0.5L2.25,-0.5C0.75,-0.5,-0.5,0.75,-0.5,2.25L-0.5,32.8125C-0.5,34.3125,0.75,35.5,2.25,35.5L32.8125,35.5C34.3125,35.5,35.5,34.3125,35.5,32.8125z" />
					</Path.Data>
				</Path>
				<Path Fill="#FF4472C4">
					<Path.Data>
						<PathGeometry Figures="M34.5,3.125C34.5,1.6875,33.375,0.5,31.9375,0.5L3.125,0.5C1.6875,0.5,0.5,1.6875,0.5,3.125L0.5,31.9375C0.5,33.375,1.6875,34.5,3.125,34.5L31.9375,34.5C33.375,34.5,34.5,33.375,34.5,31.9375z" />
					</Path.Data>
				</Path>
				<Polygon Points="8.5,8.5 8.5,25.5 26.5,25.5 26.5,8.5" FillRule="EvenOdd" Fill="#FFFFFFFF" Stroke="{x:Null}" />
				<Path Fill="#FF8FAADC" Stroke="{x:Null}">
					<Path.Data>
						<PathGeometry Figures="M18.9375,18.9375L30.5,18.9375 30.5,30.5 18.9375,30.5 18.9375,18.9375z M4.5,4.5L16.125,4.5 16.125,16.125 4.5,16.125 4.5,4.5z" />
					</Path.Data>
				</Path>
			</Canvas>
		</Viewbox>
		<Viewbox x:Key="btnBringToFront" MouseDown="btnBringToFront_MouseDown">
			<Canvas Width="36" Height="35">
				<Path Fill="#FF2F528F">
					<Path.Data>
						<PathGeometry Figures="M36.5,2.25C36.5,0.75,35.3125,-0.5,33.8125,-0.5L2.25,-0.5C0.75,-0.5,-0.5,0.75,-0.5,2.25L-0.5,32.8125C-0.5,34.3125,0.75,35.5,2.25,35.5L33.8125,35.5C35.3125,35.5,36.5,34.3125,36.5,32.8125z" />
					</Path.Data>
				</Path>
				<Path Fill="#FF4472C4">
					<Path.Data>
						<PathGeometry Figures="M35.5,3.125C35.5,1.6875,34.375,0.5,32.9375,0.5L4.125,0.5C2.6875,0.5,1.5,1.6875,1.5,3.125L1.5,31.9375C1.5,33.375,2.6875,34.5,4.125,34.5L32.9375,34.5C34.375,34.5,35.5,33.375,35.5,31.9375z" />
					</Path.Data>
				</Path>
				<Path Fill="#FF8FAADC" Stroke="{x:Null}">
					<Path.Data>
						<PathGeometry Figures="M19.9375,18.9375L31.5,18.9375 31.5,30.5 19.9375,30.5 19.9375,18.9375z M5.5,4.5L17.125,4.5 17.125,16.125 5.5,16.125 5.5,4.5z" />
					</Path.Data>
				</Path>
				<Polygon Points="9.5,8.5 9.5,25.5 27.5,25.5 27.5,8.5" FillRule="EvenOdd" Fill="#FFFFFFFF" Stroke="{x:Null}" />
			</Canvas>
		</Viewbox>
		<Viewbox x:Key="btnShowColorControls" MouseDown="btnShowColorControls_MouseDown">
			<Canvas Width="35" Height="36">
				<Path Fill="#FF2F528F">
					<Path.Data>
						<PathGeometry Figures="M35.5,2.25C35.5,0.75,34.3125,-0.5,32.8125,-0.5L2.25,-0.5C0.75,-0.5,-0.5,0.75,-0.5,2.25L-0.5,33.8125C-0.5,35.3125,0.75,36.5,2.25,36.5L32.8125,36.5C34.3125,36.5,35.5,35.3125,35.5,33.8125z" />
					</Path.Data>
				</Path>
				<Path Fill="#FF4472C4">
					<Path.Data>
						<PathGeometry Figures="M34.5,2.6875C34.5,1.5,33.5625,0.5,32.375,0.5L2.6875,0.5C1.5,0.5,0.5,1.5,0.5,2.6875L0.5,32.375C0.5,33.5625,1.5,34.5,2.6875,34.5L32.375,34.5C33.5625,34.5,34.5,33.5625,34.5,32.375z" />
					</Path.Data>
				</Path>
				<Polygon Points="2.5,3.5 2.5,10.5 5.5,10.5 5.5,3.5" FillRule="EvenOdd" Fill="#FFFF2600" Stroke="{x:Null}" />
				<Polygon Points="5.5,3.5 5.5,10.5 8.5,10.5 8.5,3.5" FillRule="EvenOdd" Fill="#FFFFAE00" Stroke="{x:Null}" />
				<Polygon Points="8.5,3.5 8.5,10.5 11.5,10.5 11.5,3.5" FillRule="EvenOdd" Fill="#FFABFF00" Stroke="{x:Null}" />
				<Polygon Points="11.5,3.5 11.5,10.5 14.5,10.5 14.5,3.5" FillRule="EvenOdd" Fill="#FF0CFF00" Stroke="{x:Null}" />
				<Polygon Points="14.5,3.5 14.5,10.5 17.5,10.5 17.5,3.5" FillRule="EvenOdd" Fill="#FF00FFA5" Stroke="{x:Null}" />
				<Polygon Points="17.5,3.5 17.5,10.5 20.5,10.5 20.5,3.5" FillRule="EvenOdd" Fill="#FF00B2FF" Stroke="{x:Null}" />
				<Polygon Points="20.5,3.5 20.5,10.5 23.5,10.5 23.5,3.5" FillRule="EvenOdd" Fill="#FF0039FF" Stroke="{x:Null}" />
				<Polygon Points="23.5,3.5 23.5,10.5 26.5,10.5 26.5,3.5" FillRule="EvenOdd" Fill="#FF6600FF" Stroke="{x:Null}" />
				<Polygon Points="26.5,3.5 26.5,10.5 29.5,10.5 29.5,3.5" FillRule="EvenOdd" Fill="#FFF800FF" Stroke="{x:Null}" />
				<Polygon Points="29.5,3.5 29.5,10.5 32.5,10.5 32.5,3.5" FillRule="EvenOdd" Fill="#FFFF006B" Stroke="{x:Null}" />
				<Polygon Points="2.5,14.5 2.5,20.5 5.5,20.5 5.5,14.5" FillRule="EvenOdd" Fill="#FFFFE5E5" Stroke="{x:Null}" />
				<Polygon Points="5.5,14.5 5.5,20.5 8.5,20.5 8.5,14.5" FillRule="EvenOdd" Fill="#FFFFCCCC" Stroke="{x:Null}" />
				<Polygon Points="8.5,14.5 8.5,20.5 11.5,20.5 11.5,14.5" FillRule="EvenOdd" Fill="#FFFFB2B2" Stroke="{x:Null}" />
				<Polygon Points="11.5,14.5 11.5,20.5 14.5,20.5 14.5,14.5" FillRule="EvenOdd" Fill="#FFFF9999" Stroke="{x:Null}" />
				<Polygon Points="14.5,14.5 14.5,20.5 17.5,20.5 17.5,14.5" FillRule="EvenOdd" Fill="#FFFF7F7F" Stroke="{x:Null}" />
				<Polygon Points="17.5,14.5 17.5,20.5 20.5,20.5 20.5,14.5" FillRule="EvenOdd" Fill="#FFFF6666" Stroke="{x:Null}" />
				<Polygon Points="20.5,14.5 20.5,20.5 23.5,20.5 23.5,14.5" FillRule="EvenOdd" Fill="#FFFF4D4D" Stroke="{x:Null}" />
				<Polygon Points="23.5,14.5 23.5,20.5 26.5,20.5 26.5,14.5" FillRule="EvenOdd" Fill="#FFFF3333" Stroke="{x:Null}" />
				<Polygon Points="26.5,14.5 26.5,20.5 29.5,20.5 29.5,14.5" FillRule="EvenOdd" Fill="#FFFF1A1A" Stroke="{x:Null}" />
				<Polygon Points="29.5,14.5 29.5,20.5 32.5,20.5 32.5,14.5" FillRule="EvenOdd" Fill="#FFFF0000" Stroke="{x:Null}" />
				<Polygon Points="5.5,25.5 5.5,31.5 7.5,31.5 7.5,25.5" FillRule="EvenOdd" Fill="#FFE6E6E6" Stroke="{x:Null}" />
				<Polygon Points="7.5,25.5 7.5,31.5 10.5,31.5 10.5,25.5" FillRule="EvenOdd" Fill="#FFCCCCCC" Stroke="{x:Null}" />
				<Polygon Points="10.5,25.5 10.5,31.5 13.5,31.5 13.5,25.5" FillRule="EvenOdd" Fill="#FFB3B3B3" Stroke="{x:Null}" />
				<Polygon Points="13.5,25.5 13.5,31.5 16.5,31.5 16.5,25.5" FillRule="EvenOdd" Fill="#FF999999" Stroke="{x:Null}" />
				<Polygon Points="16.5,25.5 16.5,31.5 18.5,31.5 18.5,25.5" FillRule="EvenOdd" Fill="#FF808080" Stroke="{x:Null}" />
				<Polygon Points="18.5,25.5 18.5,31.5 21.5,31.5 21.5,25.5" FillRule="EvenOdd" Fill="#FF666666" Stroke="{x:Null}" />
				<Polygon Points="21.5,25.5 21.5,31.5 24.5,31.5 24.5,25.5" FillRule="EvenOdd" Fill="#FF4D4D4D" Stroke="{x:Null}" />
				<Polygon Points="24.5,25.5 24.5,31.5 27.5,31.5 27.5,25.5" FillRule="EvenOdd" Fill="#FF333333" Stroke="{x:Null}" />
				<Polygon Points="27.5,25.5 27.5,31.5 29.5,31.5 29.5,25.5" FillRule="EvenOdd" Fill="#FF1A1A1A" Stroke="{x:Null}" />
				<Polygon Points="29.5,25.5 29.5,31.5 32.5,31.5 32.5,25.5" FillRule="EvenOdd" Fill="#FF000000" Stroke="{x:Null}" />
				<Polygon Points="2.5,25.5 2.5,31.5 5.5,31.5 5.5,25.5" FillRule="EvenOdd" Fill="#FFFFFFFF" Stroke="{x:Null}" />
			</Canvas>
		</Viewbox>

		<StackPanel x:Key="spHueShift" Orientation="Vertical" Width="200" Background="#FF4472C4">
			<Slider x:Name="HueSlider" Orientation="Horizontal" Value="0" Maximum="180" Minimum="-180" HorizontalAlignment="Stretch" ToolTip="Hue Adjust" Margin="10,4,10,0" ValueChanged="HueShiftSlider_ValueChanged">
				<Slider.ContextMenu>
					<ContextMenu>
						<MenuItem Header="Copy Color Mod" Command="{StaticResource Commands.CopyColorMod}"></MenuItem>
						<MenuItem Header="Paste Color Mod" Command="{StaticResource Commands.PasteColorMod}"></MenuItem>
						<Separator></Separator>
						<MenuItem Header="Reset Hue Shift" Click="HueShiftReset_Click"></MenuItem>
						<MenuItem Header="Reset All" Click="ResetAllColorMods_Click"></MenuItem>
					</ContextMenu>
				</Slider.ContextMenu>
			</Slider>
			<Grid HorizontalAlignment="Stretch" Margin="3, -3, 0, 2">
				<Grid.ColumnDefinitions>
					<ColumnDefinition Width="*"/>
					<ColumnDefinition Width="*"/>
					<ColumnDefinition Width="*"/>
				</Grid.ColumnDefinitions>
				<TextBlock Text="-180" Width="Auto" Height="Auto" Foreground="White"/>
				<TextBlock Grid.Column="1" Text="Hue" Width="Auto" Height="Auto" HorizontalAlignment="Center" Foreground="White"/>
				<TextBlock Grid.Column="2" Text="180" Width="Auto" Height="Auto" HorizontalAlignment="Right" Margin="0, 0, 6, 0" Foreground="White"/>
			</Grid>
			<Slider x:Name="SaturationSlider" Orientation="Horizontal" Value="0" Minimum="-100" Maximum="100" HorizontalAlignment="Stretch" ToolTip="Hue Adjust" Margin="10,4,10,0" ValueChanged="SaturationSlider_ValueChanged">
				<Slider.ContextMenu>
					<ContextMenu>
						<MenuItem Header="Copy Color Mod" Command="{StaticResource Commands.CopyColorMod}"></MenuItem>
						<MenuItem Header="Paste Color Mod" Command="{StaticResource Commands.PasteColorMod}"></MenuItem>
						<Separator></Separator>
						<MenuItem Header="Reset Saturation" Click="SaturationReset_Click"></MenuItem>
						<MenuItem Header="Reset All" Click="ResetAllColorMods_Click"></MenuItem>
					</ContextMenu>
				</Slider.ContextMenu>
			</Slider>
			<Grid HorizontalAlignment="Stretch" Margin="3, -3, 0, 2">
				<Grid.ColumnDefinitions>
					<ColumnDefinition Width="*"/>
					<ColumnDefinition Width="*"/>
					<ColumnDefinition Width="*"/>
				</Grid.ColumnDefinitions>
				<TextBlock Text="-100" Width="Auto" Height="Auto" Foreground="White"/>
				<TextBlock Grid.Column="1" Text="Sat" Width="Auto" Height="Auto" HorizontalAlignment="Center" Foreground="White"/>
				<TextBlock Grid.Column="2" Text="100" Width="Auto" Height="Auto" HorizontalAlignment="Right" Margin="0, 0, 6, 0" Foreground="White"/>
			</Grid>
			<Slider x:Name="LightnessSlider" Orientation="Horizontal" Value="0" Minimum="-100" Maximum="100" HorizontalAlignment="Stretch" ToolTip="Hue Adjust" Margin="10,4,10,0" ValueChanged="LightnessSlider_ValueChanged">
				<Slider.ContextMenu>
					<ContextMenu>
						<MenuItem Header="Copy Color Mod" Command="{StaticResource Commands.CopyColorMod}"></MenuItem>
						<MenuItem Header="Paste Color Mod" Command="{StaticResource Commands.PasteColorMod}"></MenuItem>
						<Separator></Separator>
						<MenuItem Header="Reset Lightness" Click="LightnessReset_Click"></MenuItem>
						<MenuItem Header="Reset All" Click="ResetAllColorMods_Click"></MenuItem>
					</ContextMenu>
				</Slider.ContextMenu>
			</Slider>
			<Grid HorizontalAlignment="Stretch" Margin="3, -3, 0, 2">
				<Grid.ColumnDefinitions>
					<ColumnDefinition Width="*"/>
					<ColumnDefinition Width="*"/>
					<ColumnDefinition Width="*"/>
				</Grid.ColumnDefinitions>
				<TextBlock Text="-100" Width="Auto" Height="Auto" Foreground="White"/>
				<TextBlock Grid.Column="1" Text="Light" Width="Auto" Height="Auto" HorizontalAlignment="Center" Foreground="White"/>
				<TextBlock Grid.Column="2" Text="100" Width="Auto" Height="Auto" HorizontalAlignment="Right" Margin="0, 0, 6, 0" Foreground="White"/>
			</Grid>
			<Slider x:Name="ContrastSlider" Orientation="Horizontal" Value="0" Minimum="-100" Maximum="100" HorizontalAlignment="Stretch" ToolTip="Hue Adjust" Margin="10,4,10,0" ValueChanged="ContrastSlider_ValueChanged">
				<Slider.ContextMenu>
					<ContextMenu>
						<MenuItem Header="Copy Color Mod" Command="{StaticResource Commands.CopyColorMod}"></MenuItem>
						<MenuItem Header="Paste Color Mod" Command="{StaticResource Commands.PasteColorMod}"></MenuItem>
						<Separator></Separator>
						<MenuItem Header="Reset Contrast" Click="ContrastReset_Click"></MenuItem>
						<MenuItem Header="Reset All" Click="ResetAllColorMods_Click"></MenuItem>
					</ContextMenu>
				</Slider.ContextMenu>
			</Slider>
			<Grid HorizontalAlignment="Stretch" Margin="3, -3, 0, 2">
				<Grid.ColumnDefinitions>
					<ColumnDefinition Width="*"/>
					<ColumnDefinition Width="*"/>
					<ColumnDefinition Width="*"/>
				</Grid.ColumnDefinitions>
				<TextBlock Text="-100" Width="Auto" Height="Auto" Foreground="White"/>
				<TextBlock Grid.Column="1" Text="Contrast" Width="Auto" Height="Auto" HorizontalAlignment="Center" Foreground="White"/>
				<TextBlock Grid.Column="2" Text="100" Width="Auto" Height="Auto" HorizontalAlignment="Right" Margin="0, 0, 6, 0" Foreground="White"/>
			</Grid>
		</StackPanel>

	</Window.Resources>
	<Window.InputBindings>
		<KeyBinding Key="Minus" Command="{StaticResource Commands.ZoomOut}"/>
		<KeyBinding Key="Esc" Command="{StaticResource Commands.CancelStampMode}"/>
		<KeyBinding Key="Delete" Command="{StaticResource Commands.DeleteSelected}"/>
		<KeyBinding Key="C" Modifiers="Ctrl+Alt" Command="{StaticResource Commands.CopyColorMod}"/>
		<KeyBinding Key="V" Modifiers="Ctrl+Alt" Command="{StaticResource Commands.PasteColorMod}"/>
		<KeyBinding Key="Plus" Command="{StaticResource Commands.ZoomIn}"/>
		<KeyBinding Key="Backspace" Command="{StaticResource Commands.JumpBackToPrevZoom}"/>
	</Window.InputBindings>
	<Window.CommandBindings>
		<CommandBinding Command="{StaticResource Commands.ZoomOut}" Executed="ZoomOut_Executed"/>
		<CommandBinding Command="{StaticResource Commands.ZoomIn}" Executed="ZoomIn_Executed"/>
		<CommandBinding Command="{StaticResource Commands.JumpBackToPrevZoom}" Executed="JumpBackToPrevZoom_Executed" CanExecute="JumpBackToPrevZoom_CanExecute"/>
		<CommandBinding Command="{StaticResource Commands.Fill}" Executed="Fill_Executed"/>
		<CommandBinding Command="{StaticResource Commands.OneHundredPercent}" Executed="OneHundredPercent_Executed"/>
		<CommandBinding Command="{StaticResource Commands.CancelStampMode}" Executed="CancelStampMode_Executed"/>
		<CommandBinding Command="{StaticResource Commands.DeleteSelected}" Executed="DeleteSelected_Executed"/>
		<CommandBinding Command="{StaticResource Commands.CopyColorMod}" Executed="CopyColorMod_Executed"/>
		<CommandBinding Command="{StaticResource Commands.PasteColorMod}" Executed="PasteColorMod_Executed"/>
	</Window.CommandBindings>
	<Grid>
		<Grid.ColumnDefinitions>
			<ColumnDefinition Width="*"/>
			<ColumnDefinition Width="5"/>
			<ColumnDefinition Width="Auto"/>
		</Grid.ColumnDefinitions>
		<Grid.RowDefinitions>
			<RowDefinition Height="38"/>
			<RowDefinition Height="*"/>
			<RowDefinition Height="Auto"/>
		</Grid.RowDefinitions>
		<StackPanel x:Name="spToolbar" Orientation="Horizontal" Visibility="Hidden">
			<RadioButton x:Name="btnSelect" IsChecked="True" Checked="BtnSelect_Checked">
				<StackPanel>
					<Viewbox HorizontalAlignment="Center" VerticalAlignment="Center" >
						<Canvas Width="160" Height="160">
							<Path Fill="#FFFFFFFF" Stroke="#FF2F528F" StrokeThickness="1.3125" StrokeMiterLimit="10">
								<Path.Data>
									<PathGeometry Figures="M25,24.375L97.6875,40.0625 81.3125,56.5 135,110.1875C137.1875,112.4375,137.1875,116,135,118.25L118.875,134.375C116.6875,136.5625,113.0625,136.5625,110.8125,134.375L57.125,80.625 40.75,97.0625z" />
								</Path.Data>
							</Path>
						</Canvas>
					</Viewbox>
				</StackPanel>
			</RadioButton>
			<RadioButton x:Name="btnStamp" Checked="BtnStamp_Checked">
				<Viewbox>
					<Canvas Width="157" Height="157">
						<Path Fill="#FFFFFFFF" Stroke="#FF2F528F" StrokeThickness="1" StrokeMiterLimit="10">
							<Path.Data>
								<PathGeometry Figures="M21.375,126.0625L131.6875,126.0625C132.4375,126.0625,133,126.625,133,127.375L133,132.6875C133,133.4375,132.4375,134,131.6875,134L21.375,134C20.625,134,20,133.4375,20,132.6875L20,127.375C20,126.625,20.625,126.0625,21.375,126.0625z M67.4375,18L85.625,18C88.125,18,90.125,20.0625,90.125,22.5625L90.125,66.6875 125.8125,66.6875C129.8125,66.6875,133,69.9375,133,73.875L133,102.625C133,106.625,129.8125,109.8125,125.8125,109.8125L27.25,109.8125C23.25,109.8125,20,106.625,20,102.625L20,73.875C20,69.9375,23.25,66.6875,27.25,66.6875L62.875,66.6875 62.875,22.5625C62.875,20.0625,64.9375,18,67.4375,18z" />
							</Path.Data>
						</Path>
					</Canvas>
				</Viewbox>
			</RadioButton>
		</StackPanel>
		<ScrollViewer Grid.Column="0" Grid.Row="1"  x:Name="scroller" CanContentScroll="True" VerticalScrollBarVisibility="Visible" HorizontalScrollBarVisibility="Visible">
			<!--
            This is the control that handles zooming and panning.
            -->
			<mapUI:ZoomAndPanControl
                x:Name="zoomAndPanControl"
                Background="LightGray"
	            MouseDown="ZoomAndPanControl_MouseDown"
	            MouseUp="ZoomAndPanControl_MouseUp"
	            MouseMove="ZoomAndPanControl_MouseMove"
	            MouseWheel="ZoomAndPanControl_MouseWheel"
                MouseDoubleClick="ZoomAndPanControl_MouseDoubleClick"
                >

				<Grid x:Name="theGrid" Width="2000" Height="2000">
					<!-- Map: -->
					<Canvas x:Name="content" Background="Black" MouseMove="CvsMap_MouseMove" MouseUp="CvsMap_MouseUp"/>

					<!--
					This Canvas and Border render a drag rectangle to specify a region to zoom in on.
					-->
					<Canvas
						x:Name="dragZoomCanvas"
						Visibility="Collapsed"
						>
						<Border 
							x:Name="dragZoomBorder"
							BorderBrush="Black"
							BorderThickness="1"
							Background="Silver"
							CornerRadius="1"
							Opacity="0"
							/>
					</Canvas>
				</Grid>
			</mapUI:ZoomAndPanControl>
		</ScrollViewer>
		<GridSplitter Grid.Column="1" Grid.Row="1" Width="5" HorizontalAlignment="Left" VerticalAlignment="Stretch"/>
		<Grid Grid.Column="2" Grid.Row="1" x:Name="grdMapControls" Height="Auto" Width="Auto">
			<Grid.RowDefinitions>
				<RowDefinition Height="Auto"/>
				<RowDefinition Height="Auto"/>
				<RowDefinition Height="Auto"/>
				<RowDefinition Height="Auto"/>
				<RowDefinition Height="Auto"/>
				<RowDefinition Height="Auto"/>
				<RowDefinition Height="Auto"/>
				<RowDefinition Height="Auto"/>
			</Grid.RowDefinitions>
			<ListBox x:Name="lstFlooring" IsEnabled="False" Height="200" Width="400">
				<ListBox.ItemsPanel>
					<ItemsPanelTemplate>
						<WrapPanel Orientation="Horizontal" Width="400"/>
					</ItemsPanelTemplate>
				</ListBox.ItemsPanel>
				<ListBox.ItemTemplate>
					<DataTemplate>
						<Button Click="Button_ApplyFlooring" Tag="{Binding}">
							<Image Source="{Binding Path=FileName}" Width="32" Height="32"></Image>
						</Button>
					</DataTemplate>
				</ListBox.ItemTemplate>
			</ListBox>
			<StackPanel Grid.Row="1" x:Name="spStamps">
				<TabControl x:Name="tbcStamps" Width="400">
					<TabControl.ItemTemplate>
						<DataTemplate>
							<TextBlock>                            
								<TextBlock Text="{Binding Name}"/>
							</TextBlock>
						</DataTemplate>
					</TabControl.ItemTemplate>
					<TabControl.ContentTemplate>
						<DataTemplate>
							<ListBox ItemsSource="{Binding Stamps}" Width="400" MaxHeight="600">
								<ListBox.ItemsPanel>
									<ItemsPanelTemplate>
										<WrapPanel Orientation="Horizontal" Width="400"/>
									</ItemsPanelTemplate>
								</ListBox.ItemsPanel>
								<ListBox.ItemTemplate>
									<DataTemplate>
										<Button Click="StampButton_Click" Tag="{Binding}">
											<Image Source="{Binding Path=FileName}" Width="64" Height="64"></Image>
										</Button>
									</DataTemplate>
								</ListBox.ItemTemplate>
							</ListBox>
						</DataTemplate>
					</TabControl.ContentTemplate>
				</TabControl>
			</StackPanel>
			<!--<ListBox Grid.Row="1"  x:Name="lstDebris" IsEnabled="False" Height="300" Width="200">
				<ListBox.ItemsPanel>
					<ItemsPanelTemplate>
						<WrapPanel Orientation="Horizontal" Width="200"/>
					</ItemsPanelTemplate>
				</ListBox.ItemsPanel>
				<ListBox.ItemTemplate>
					<DataTemplate>
						<Button Click="Button_ApplyDebris" Tag="{Binding}">
							<Image Source="{Binding Path=FileName}" Width="32" Height="32"></Image>
						</Button>
					</DataTemplate>
				</ListBox.ItemTemplate>
			</ListBox>-->
			<StackPanel x:Name="spWallLabels" Grid.Row="2" Orientation="Horizontal" Margin="4, 4, 0, 0" >
				<TextBlock Text="Walls: " Width="Auto" Height="Auto"/>
				<TextBlock Text="(hold Ctrl to delete)" Width="Auto" Height="Auto" Foreground="Gray"/>
			</StackPanel>
			<StackPanel Grid.Row="3" x:Name="spWallControls" Orientation="Horizontal" Height="38" >
				<Button x:Name="btnLeftWall" Click="BtnLeftWall_Click" Margin="6, 3, 3, 3" >
					<Viewbox Width="32" Height="32" >
						<Canvas Width="180" Height="208">
							<Polygon Points="19,23 19,160 175,160 175,23" Fill="#FFF2F2F2" Stroke="{x:Null}" />
							<Polygon Points="175,160 19,160 19,23 175,23" Fill="{x:Null}" Stroke="#FF707070" StrokeThickness="1" />
							<Polygon Points="0,0 0,203 38,203 38,0" Fill="#FF4472C4" Stroke="{x:Null}" />
							<Polygon Points="38,203 0,203 0,0 38,0" Fill="{x:Null}" Stroke="#FF2F528F" StrokeThickness="1" />
						</Canvas>
					</Viewbox>
				</Button>
				<Button x:Name="btnTopWall" Click="BtnTopWall_Click" Margin="3" >
					<Viewbox Width="32" Height="32" >
						<Canvas Width="205" Height="197">
							<Polygon Points="24,175 24,19 180,19 180,175" FillRule="EvenOdd" Fill="#FFF2F2F2" Stroke="{x:Null}" />
							<Polygon Points="24,175 24,19 180,19 180,175" FillRule="EvenOdd" Fill="{x:Null}" Stroke="#FF707070" StrokeThickness="1" />
							<Polygon Points="0,39 0,0 204,0 204,39" FillRule="EvenOdd" Fill="#FF4472C4" Stroke="{x:Null}" />
							<Polygon Points="0,39 0,0 204,0 204,39" FillRule="EvenOdd" Fill="{x:Null}" Stroke="#FF2F528F" StrokeThickness="1" />
						</Canvas>
					</Viewbox>

				</Button>
				<Button x:Name="btnRightWall" Click="BtnRightWall_Click" Margin="3" >
					<Viewbox Width="32" Height="32" >
						<Canvas Width="180" Height="208">
							<Polygon Points="0,23 0,160 156,160 156,23" Fill="#FFF2F2F2" Stroke="{x:Null}" />
							<Polygon Points="0,23 156,23 156,160 0,160" Fill="{x:Null}" Stroke="#FF707070" StrokeThickness="1" />
							<Polygon Points="136,0 136,203 175,203 175,0" Fill="#FF4472C4" Stroke="{x:Null}" />
							<Polygon Points="136,0 175,0 175,203 136,203" Fill="{x:Null}" Stroke="#FF2F528F" StrokeThickness="1" />
						</Canvas>
					</Viewbox>

				</Button>
				<Button x:Name="btnBottomWall" Click="BtnBottomWall_Click" Margin="3" >
					<Viewbox Width="32" Height="32">
						<Canvas Width="205" Height="197">
							<Polygon Points="180,0 180,156 23,156 23,0" FillRule="EvenOdd" Fill="#FFF2F2F2" Stroke="{x:Null}" />
							<Polygon Points="180,0 180,156 23,156 23,0" FillRule="EvenOdd" Fill="{x:Null}" Stroke="#FF707070" StrokeThickness="1" />
							<Polygon Points="203,136 203,175 0,175 0,136" FillRule="EvenOdd" Fill="#FF4472C4" Stroke="{x:Null}" />
							<Polygon Points="203,136 203,175 0,175 0,136" FillRule="EvenOdd" Fill="{x:Null}" Stroke="#FF2F528F" StrokeThickness="1" />
						</Canvas>
					</Viewbox>
				</Button>
				<Button x:Name="btnOutlineWall" Click="BtnOutlineWall_Click" Margin="3" >
					<Viewbox>
						<Canvas Width="205" Height="205">
							<Polygon Points="180,24 180,181 23,181 23,24" FillRule="EvenOdd" Fill="#FFF2F2F2" Stroke="{x:Null}" />
							<Polygon Points="180,24 180,181 23,181 23,24" FillRule="EvenOdd" Fill="{x:Null}" Stroke="#FFBFBFBF" StrokeThickness="1" />
							<Path Fill="#FF4472C4" Stroke="#FF2F528F" StrokeThickness="1" StrokeMiterLimit="10">
								<Path.Data>
									<PathGeometry Figures="M38.875,39.0625L38.875,165 164.1875,165 164.1875,39.0625 38.875,39.0625z M0.0625,0L203,0 203,0.1875 203,0.1875 203,204 164.1875,204 164.1875,204 38.875,204 38.875,204 0,204 0,0.1875 0.0625,0.1875 0.0625,0z" />
								</Path.Data>
							</Path>
						</Canvas>
					</Viewbox>
				</Button>
			</StackPanel>

			<StackPanel x:Name="spDoorLabels" Grid.Row="4" Orientation="Horizontal" Margin="4, 4, 0, 0" >
				<TextBlock Text="Doors: " Width="Auto" Height="Auto"/>
				<TextBlock Text="(hold Ctrl to delete)" Width="Auto" Height="Auto" Foreground="Gray"/>
			</StackPanel>
			<StackPanel Grid.Row="5" x:Name="spDoorControls" Orientation="Horizontal" Height="38" >
				<Button x:Name="btnLeftDoor" Click="BtnLeftDoor_Click" Margin="6, 3, 3, 3" >
					<Viewbox Width="32" Height="32" >
						<Canvas Width="180" Height="208">
							<Polygon Points="19,23 19,160 175,160 175,23" Fill="#FFF2F2F2" Stroke="{x:Null}" />
							<Polygon Points="175,160 19,160 19,23 175,23" Fill="{x:Null}" Stroke="#FF707070" StrokeThickness="1" />
							<Polygon Points="0,0 0,203 38,203 38,0" Fill="#FFC44545" Stroke="{x:Null}" />
							<Polygon Points="38,203 0,203 0,0 38,0" Fill="{x:Null}" Stroke="#FF8F2F2F" StrokeThickness="1" />
						</Canvas>
					</Viewbox>
				</Button>
				<Button x:Name="btnTopDoor" Click="BtnTopDoor_Click" Margin="3" >
					<Viewbox Width="32" Height="32" >
						<Canvas Width="205" Height="197">
							<Polygon Points="24,175 24,19 180,19 180,175" FillRule="EvenOdd" Fill="#FFF2F2F2" Stroke="{x:Null}" />
							<Polygon Points="24,175 24,19 180,19 180,175" FillRule="EvenOdd" Fill="{x:Null}" Stroke="#FF707070" StrokeThickness="1" />
							<Polygon Points="0,39 0,0 204,0 204,39" FillRule="EvenOdd" Fill="#FFC44545" Stroke="{x:Null}" />
							<Polygon Points="0,39 0,0 204,0 204,39" FillRule="EvenOdd" Fill="{x:Null}" Stroke="#FF8F2F2F" StrokeThickness="1" />
						</Canvas>
					</Viewbox>

				</Button>
				<Button x:Name="btnRightDoor" Click="BtnRightDoor_Click" Margin="3" >
					<Viewbox Width="32" Height="32" >
						<Canvas Width="180" Height="208">
							<Polygon Points="0,23 0,160 156,160 156,23" Fill="#FFF2F2F2" Stroke="{x:Null}" />
							<Polygon Points="0,23 156,23 156,160 0,160" Fill="{x:Null}" Stroke="#FF707070" StrokeThickness="1" />
							<Polygon Points="136,0 136,203 175,203 175,0" Fill="#FFC44545" Stroke="{x:Null}" />
							<Polygon Points="136,0 175,0 175,203 136,203" Fill="{x:Null}" Stroke="#FF8F2F2F" StrokeThickness="1" />
						</Canvas>
					</Viewbox>

				</Button>
				<Button x:Name="btnBottomDoor" Click="BtnBottomDoor_Click" Margin="3" >
					<Viewbox Width="32" Height="32">
						<Canvas Width="205" Height="197">
							<Polygon Points="180,0 180,156 23,156 23,0" FillRule="EvenOdd" Fill="#FFF2F2F2" Stroke="{x:Null}" />
							<Polygon Points="180,0 180,156 23,156 23,0" FillRule="EvenOdd" Fill="{x:Null}" Stroke="#FF707070" StrokeThickness="1" />
							<Polygon Points="203,136 203,175 0,175 0,136" FillRule="EvenOdd" Fill="#FFC44545" Stroke="{x:Null}" />
							<Polygon Points="203,136 203,175 0,175 0,136" FillRule="EvenOdd" Fill="{x:Null}" Stroke="#FF8F2F2F" StrokeThickness="1" />
						</Canvas>
					</Viewbox>
				</Button>
			</StackPanel>
		</Grid>
		<!-- 
        Grid placed below the zoom and pan control that contains the zoom slider, zoom label and
        some button.
        -->
		<Grid Grid.Column="0" Grid.Row="2" Margin="5,5,5,5">
			<Grid.ColumnDefinitions>
				<ColumnDefinition Width="*" />
				<!-- empty space -->
				<ColumnDefinition Width="40" />
				<!-- the fill button -->
				<ColumnDefinition Width="5" />
				<!-- spacer -->
				<ColumnDefinition Width="40" />
				<!-- the 100% button -->
				<ColumnDefinition Width="5" />
				<!-- spacer -->
				<ColumnDefinition Width="25" />
				<!-- the zoom percentage label -->
				<ColumnDefinition Width="15" />
				<!-- the % symbol -->
				<ColumnDefinition Width="5" />
				<!-- spacer -->
				<ColumnDefinition Width="20" />
				<!-- the zoom out button -->
				<ColumnDefinition Width="5" />
				<!-- spacer -->
				<ColumnDefinition Width="120" />
				<!-- the zoom slider -->
				<ColumnDefinition Width="5" />
				<!-- spacer -->
				<ColumnDefinition Width="20" />
				<!-- the zoom in button -->
				<ColumnDefinition Width="10" />
				<!-- spacer -->
				<ColumnDefinition Width="Auto" />
				<!-- resize grip -->
				<!-- spacer -->
			</Grid.ColumnDefinitions>

			<!-- 
            The fill button.  Causes the content to be scaled so that it fits in the viewport.
            -->
			<Button
                Grid.Column="1"
                Command="{StaticResource Commands.Fill}"
                >
				Fill
			</Button>
			<!-- 
            The 100% button.  Causes the content to be scaled to 100 percent.
            -->
			<Button
                Grid.Column="3"
                Command="{StaticResource Commands.OneHundredPercent}"
                >
				100%
			</Button>

			<!--
            This is the label that shows what the current zoom level
            is while zooming in and out.
            -->
			<TextBlock
                Grid.Column="5"
                VerticalAlignment="Center"
                HorizontalAlignment="Right"
                Text="{Binding ElementName=zoomAndPanControl, Path=ContentScale, Converter={StaticResource scaleToPercentConverter}}"
                />

			<TextBlock
                Grid.Column="6"
                VerticalAlignment="Center"
                Text="%"
                />

			<!-- Button to zoom out. -->
			<Button
                Grid.Column="8"
                Command="{StaticResource Commands.ZoomOut}"
                >
				-
			</Button>

			<!-- Slider to change the current zoom level. -->
			<Slider
                Grid.Column="10"
                Minimum="10" 
                LargeChange="20" 
                TickFrequency="10" 
                Maximum="200" 
                SmallChange="10" 
                TickPlacement="TopLeft"
                Value="{Binding ElementName=zoomAndPanControl, Path=ContentScale, Converter={StaticResource scaleToPercentConverter}}"
                />

			<!--
            Button to zoom in.
            -->
			<Button
                Grid.Column="12"
                Command="{StaticResource Commands.ZoomIn}"
                >
				+
			</Button>

			<!-- Stick a resize grip in the bottom right corner of the window. -->
			<ResizeGrip
                Grid.Column="14"
                />

		</Grid>
	</Grid>
</Window>
